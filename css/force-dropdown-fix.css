/**
 * FORCE DROPDOWN FIX - NUCLEAR OPTION
 * This is the most aggressive approach to fix dropdown overflow
 * Use when all other CSS solutions fail
 */

/* CRITICAL: Force viewport to never allow horizontal scroll */
html {
    overflow-x: hidden !important;
    max-width: 100vw !important;
    width: 100vw !important;
    box-sizing: border-box !important;
}

body {
    overflow-x: hidden !important;
    max-width: 100vw !important;
    width: 100vw !important;
    box-sizing: border-box !important;
    margin: 0 !important;
    padding: 0 !important;
}

/* FORCE: All containers to prevent overflow */
* {
    box-sizing: border-box !important;
}

*:not(.table):not(.table *) {
    max-width: 100% !important;
}

/* MOBILE SPECIFIC: Force all form elements to be contained */
@media (max-width: 767px) {
    /* Container fixes */
    .container-fluid,
    .container,
    .main-content,
    .row,
    .col,
    [class*="col-"],
    .form-group,
    .mb-3,
    .form-floating,
    .input-group,
    form,
    div {
        max-width: 100% !important;
        overflow-x: hidden !important;
        box-sizing: border-box !important;
    }
    
    /* CRITICAL: Select element fixes with maximum specificity */
    select,
    .form-select,
    select.form-select,
    .form-control,
    input,
    textarea,
    button {
        max-width: calc(100vw - 32px) !important;
        width: calc(100vw - 32px) !important;
        box-sizing: border-box !important;
        margin: 0 !important;
        overflow: hidden !important;
        text-overflow: ellipsis !important;
    }
    
    /* Force container padding */
    .container-fluid {
        padding-left: 16px !important;
        padding-right: 16px !important;
        max-width: 100vw !important;
        width: 100vw !important;
        overflow-x: hidden !important;
        box-sizing: border-box !important;
    }
    
    /* Force all children of container-fluid to be contained */
    .container-fluid * {
        max-width: 100% !important;
        box-sizing: border-box !important;
    }
    
    /* Special handling for select options */
    select option,
    .form-select option {
        max-width: 100% !important;
        white-space: normal !important;
        word-wrap: break-word !important;
        overflow-wrap: break-word !important;
        padding: 0.375rem 0.75rem !important;
        box-sizing: border-box !important;
    }
    
    /* Force dropdown positioning */
    select:focus,
    .form-select:focus {
        position: relative !important;
        z-index: 1000 !important;
    }
    
    /* Prevent any element from causing horizontal scroll */
    * {
        max-width: 100vw !important;
        box-sizing: border-box !important;
    }
    
    /* Exception for table containers that need horizontal scroll */
    .table-responsive {
        max-width: 100% !important;
        overflow-x: auto !important;
        -webkit-overflow-scrolling: touch !important;
    }
    
    .table-responsive .table {
        max-width: none !important;
        min-width: 100% !important;
    }
}

/* TABLET SPECIFIC */
@media (min-width: 768px) and (max-width: 991px) {
    .container-fluid {
        padding-left: 20px !important;
        padding-right: 20px !important;
        overflow-x: hidden !important;
    }
    
    select,
    .form-select {
        max-width: calc(100% - 4px) !important;
        box-sizing: border-box !important;
    }
}

/* DESKTOP SPECIFIC */
@media (min-width: 992px) {
    .container-fluid {
        padding-left: 24px !important;
        padding-right: 24px !important;
        overflow-x: hidden !important;
    }
    
    select,
    .form-select {
        max-width: 100% !important;
        box-sizing: border-box !important;
    }
}

/* EMERGENCY: If all else fails, hide horizontal scrollbar */
::-webkit-scrollbar:horizontal {
    display: none !important;
}

/* Firefox */
html {
    scrollbar-width: none !important;
}

/* IE/Edge */
body {
    -ms-overflow-style: none !important;
}